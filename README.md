# 防災 行動チェック v2.0

災害発生時に「今やるべき行動」を即座に確認できる行動チェックリストアプリケーション。

## ✨ 新機能（v2.0）

### 📞 緊急連絡先管理
- 家族や自治体の連絡先を登録・管理
- ワンタップで電話・メール
- 編集・削除機能

### 📦 備蓄品チェック
- 防災用品の在庫管理
- 消費期限の自動チェック
- カテゴリ別フィルタリング
- 期限切れ・期限間近のアラート表示

## 📱 基本機能

### 災害別チェックリスト
- **地震**: 平常時 / 地震直後 / 避難時
- **台風**: 平常時 / 接近時 / 避難時
- **大雨**: 平常時 / 警報時 / 避難時

### その他の機能
- チェック状態のローカル保存
- レスポンシブデザイン（スマートフォン対応）
- オフライン対応

## 技術スタック

- **Framework**: Next.js 16 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: React Hooks
- **Data Storage**: localStorage
- **Progressive Web App (PWA)**: Service Worker対応でオフライン対応

## PWA対応

このアプリケーションはProgressive Web App (PWA)として構成されています：

- ✅ **ホーム画面へのインストール** - モバイルデバイスにネイティブアプリのようにインストール可能
- ✅ **オフライン対応** - インターネット接続がない場合も基本機能が利用可能
- ✅ **Service Worker** - バックグラウンドでのキャッシング機能
- ✅ **Web App Manifest** - デバイス上での表示設定
- ✅ **セキュリティヘッダー** - XSS、クリックジャッキング等の攻撃対策

詳細は[PWA_SETUP.md](./PWA_SETUP.md)を参照してください。

## セットアップ

### 必要な環境
- Node.js 20以上

### インストール
```bash
npm install
```

### 開発サーバーの起動
```bash
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてアプリケーションを確認できます。

### ビルド
```bash
npm run build
npm start
```

## 📂 プロジェクト構成

```
disaster-action-checklist/
├── app/(main)/
│   ├── earthquake/          # 地震ページ
│   ├── typhoon/             # 台風ページ
│   ├── flood/               # 大雨ページ
│   ├── contacts/            # 緊急連絡先ページ（新規）
│   ├── stocks/              # 備蓄品管理ページ（新規）
│   ├── layout.tsx
│   ├── page.tsx
│   └── globals.css
├── components/
│   ├── DisasterCard.tsx
│   ├── PhaseTabs.tsx
│   ├── ChecklistItem.tsx
│   └── DisasterPageClient.tsx
├── data/
│   └── disasters.ts
├── types/
│   ├── disaster.ts
│   ├── contact.ts           # 新規
│   └── stock.ts             # 新規
└── package.json
```

## 💾 データ保存

すべてのデータはlocalStorageに保存されます：
- チェックリストの完了状態
- 緊急連絡先リスト
- 備蓄品情報

## 🎯 使い方

### 1. 災害別チェックリスト
1. ホーム画面で災害種別を選択
2. フェーズタブで現在の状況を選択
3. 各行動をチェック

### 2. 緊急連絡先
1. ホーム画面の「緊急連絡先」カードをタップ
2. 「連絡先を追加」ボタンをクリック
3. 名前、続柄、電話番号などを入力
4. 登録された連絡先から直接電話・メール可能

### 3. 備蓄品チェック
1. ホーム画面の「備蓄品チェック」カードをタップ
2. 「備蓄品を追加」ボタンをクリック
3. 品名、カテゴリ、数量、消費期限を入力
4. カテゴリでフィルタリング可能
5. 期限切れ・期限間近（3ヶ月以内）は色分け表示

## 🎨 機能の特徴

### 緊急連絡先管理
- **直感的な操作**: ワンタップで電話・メール
- **編集・削除**: いつでも情報を更新可能
- **優先順位管理**: 重要な連絡先を上部に配置

### 備蓄品チェック
- **視覚的アラート**: 期限切れは赤、期限間近は黄色で表示
- **カテゴリ管理**: 食料、水、医薬品、道具、その他
- **統計表示**: 登録品目数、期限間近、期限切れを一目で確認

## 🔒 プライバシー

- すべてのデータはブラウザのlocalStorageに保存
- サーバーへのデータ送信なし
- オフラインで完全動作

## 📈 今後の拡張予定

- PWA対応（完全オフライン化）
- データエクスポート機能
- 自治体防災情報との連携
- 多言語対応
- 文字サイズ調整機能

## 🤝 貢献

Issue、Pull Requestを歓迎します。

## 📄 ライセンス

Apache License 2.0

## 📝 更新履歴

### v2.0.0 (2026-01-31)
- ✨ 緊急連絡先管理機能を追加
- ✨ 備蓄品チェック機能を追加
- 🎨 ホーム画面のUI改善

### v1.0.0 (2026-01-31)
- 🎉 初回リリース
- 地震・台風・大雨の災害別チェックリスト
- フェーズ別行動管理
- チェック状態の保存
